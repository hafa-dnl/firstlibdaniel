% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fonctions.R
\name{plot.commune}
\alias{plot.commune}
\title{Visualiser les cat√©gories socio-professionnelles des Maires d'une commune}
\usage{
\method{plot}{commune}(x, ...)
}
\arguments{
\item{x}{Un objet de classe "commune".}

\item{...}{Arguments supplementaires passes a \code{ggplot2::ggplot()}.}
}
\value{
Un graphique \code{ggplot2} representant la repartition des elus par code professionnel dans la commune.
}
\description{
La fonction verifie que l'objet fourni est bien de classe \code{"commune"}, valide sa structure avec \code{validate_schema()},
puis produit un graphique en barres horizontales representant la repartition des elus par code professionnel.
Le titre du graphique est compose du nom de la commune et de son departement.
}
\details{
Cette fonction genere un graphique en barres representant le nombre d'elus par code professionnel
pour une commune donnee.
\itemize{
\item La fonction utilise \code{validate_schema(x)} pour s'assurer que la structure des donnees est correcte.
\item Elle verifie que \code{x} est bien un objet de classe \code{"commune"}, sinon elle renvoie une erreur.
\item Elle compte le nombre d'elus par code professionnel et filtre ceux ayant \code{n = 0}.
\item Un graphique en barres est genere, trie en ordre decroissant et affichant les valeurs sur les barres.
}
}
\examples{
\dontrun{
library(ggplot2)
library(dplyr)

# Exemple de dataframe representant une commune
data <- data.frame(
  Libelle.de.la.commune = rep("Paris", 6),
  Libelle.du.departement = rep("Paris", 6),
  Code.de.la.categorie.socio.professionnelle = c("A1", "B2", "A1", "C3", "B2", "A1")
)

# Ajouter la classe "commune"
class(data) <- c("commune", class(data))

# Generer le graphique
plot_commune(data)
}

}
